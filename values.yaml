github:
  namespace: argocd
  clientSecret:
    name: github-secret
    secretStoreName: mgmt-prod
    data:
    - secretKey: clientSecret
      remoteRef:
        key: ARGOCD_GITHUB_CLIENT_SECRET

argo-cd:
  global:
    logging:
      format: json
      level: warn

  configs:
    params:
      server.insecure: true
    repositories:
      rancher-helm-repo:
        type: helm
        name: rancher
        url: https://charts.rancher.io
    cm:
      url: https://argocd.blindfolded.surgery
      admin.enabled: false
      dex.config: |
        connectors:
          - type: github
            id: github
            name: GitHub
            config:
              clientId: e8f50f1c89197fa53980
              clientSecret: $github-secret:clientSecret
              orgs:
              - name: BlindfoldedSurgery
    rbac:
      policy.csv: |
        g, BlindfoldedSurgery:Owners, role:admin
      policy.default: "role:readonly"

  dex:
    enabled: true

  server:
    ingress:
      enabled: true
      hosts:
        - argocd.blindfolded.surgery
      annotations:
        cert-manager.io/cluster-issuer: letsencrypt-issuer
        cert-manager.io/issue-temporary-certificate: "false"
        kubernetes.io/tls-acme: "true"
      tls:
        - secretName: argocd-tls
          hosts:
            - argocd.blindfolded.surgery
      ingressClassName: nginx
      https: false

  applicationSet:
    enabled: false

  notifications:
    enabled: false
